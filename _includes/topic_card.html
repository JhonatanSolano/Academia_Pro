{% for unidad in include.datos %}
<div class="unit">
    <div class="unit-header" onclick="toggleUnit(this)">
        <span>{{ unidad.titulo_unidad }}</span>
        <span class="chevron">‚ñº</span>
    </div>
    <div class="unit-content" style="display: none; padding: 1rem;">
        {% for tema in unidad.temas %}
        <div class="tema-container" style="margin-bottom: 2rem;">
            <button class="tema-btn" onclick="toggleTema(this)">
                {{ tema.nombre }}
            </button>
            
            <div class="tema-detail-container hidden" style="margin-top: 15px; display: flex; gap: 20px;">
                <div class="grid-resources" style="min-width: 160px; display: flex; flex-direction: column; gap: 10px;">
                    <button class="resource-card" onclick="showTab(this, '{{ tema.id_teoria }}')">üìñ Teor√≠a</button>
                    <button class="resource-card" onclick="showTab(this, '{{ tema.id_ejemplos }}')">üí° Ejemplos</button>
                    <button class="resource-card" onclick="showTab(this, '{{ tema.id_ejercicios }}')">üìù Ejercicios</button>
                </div>

                <div class="tab-container" style="flex: 1; background: white; padding: 20px; border-radius: 12px; border: 1px solid #e2e8f0;">
                    <div id="{{ tema.id_teoria }}" class="tab-content" style="display:none;">
                        {{ tema.teoria_html }}
                    </div>
                    <div id="{{ tema.id_ejemplos }}" class="tab-content" style="display:none;">
                        {{ tema.ejemplos_html }}
                    </div>
                    <div id="{{ tema.id_ejercicios }}" class="tab-content" style="display:none;">
                        {{ tema.ejercicios_html }}
                    </div>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endfor %}